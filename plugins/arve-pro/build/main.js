(()=>{"use strict";const e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=(()=>{if("undefined"==typeof document)return!1;const t=e[0],n={};for(const o of e){const e=o?.[1];if(e in document){for(const[e,r]of o.entries())n[t[e]]=r;return n}}return!1})(),n={change:t.fullscreenchange,error:t.fullscreenerror};let o={request:(e=document.documentElement,n)=>new Promise(((r,i)=>{const s=()=>{o.off("change",s),r()};o.on("change",s);const a=e[t.requestFullscreen](n);a instanceof Promise&&a.then(s).catch(i)})),exit:()=>new Promise(((e,n)=>{if(!o.isFullscreen)return void e();const r=()=>{o.off("change",r),e()};o.on("change",r);const i=document[t.exitFullscreen]();i instanceof Promise&&i.then(r).catch(n)})),toggle:(e,t)=>o.isFullscreen?o.exit():o.request(e,t),onchange(e){o.on("change",e)},onerror(e){o.on("error",e)},on(e,t){const o=n[e];o&&document.addEventListener(o,t,!1)},off(e,t){const o=n[e];o&&document.removeEventListener(o,t,!1)},raw:t};Object.defineProperties(o,{isFullscreen:{get:()=>Boolean(document[t.fullscreenElement])},element:{enumerable:!0,get:()=>document[t.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[t.fullscreenEnabled])}}),t||(o={isEnabled:!1});const r=o;function i(){}const s=e=>e;function a(e,t){for(const n in t)e[n]=t[n];return e}function c(e){return e()}function l(e){e.forEach(c)}function u(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t}function m(e,t,n){e.$$.on_destroy.push(function(e,...t){if(null==e)return i;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function f(e){return e&&u(e.destroy)?e.destroy:i}let p=()=>globalThis.performance.now(),h=e=>requestAnimationFrame(e);const g=new Set;function b(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&h(b)}function v(e){let t;return 0===g.size&&h(b),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function w(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function E(){return document.createTextNode("")}function k(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n)}function R(e,t,n){e.classList[n?"add":"remove"](t)}let M,T,C=0,z={};function A(e,t,n,o,r,i,s,a=0){const c=16.666/o;let l="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*i(e);l+=100*e+`%{${s(o,1-o)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`_bp_${Math.round(1e9*Math.random())}_${a}`;if(!z[d]){if(!M){const e=x("style");document.head.appendChild(e),M=e.sheet}z[d]=!0,M.insertRule(`@keyframes ${d} ${u}`,M.cssRules.length)}const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${r}ms 1 both`,C+=1,d}function F(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("_bp")).join(", "),t&&! --C&&h((()=>{if(C)return;let e=M.cssRules.length;for(;e--;)M.deleteRule(e);z={}}))}function _(e){T=e}const H=[],I=[],P=[],q=[],N=Promise.resolve();let V=!1;function Y(e){P.push(e)}const O=new Set;let B,D=0;function W(){const e=T;do{for(;D<H.length;){const e=H[D];D++,_(e),j(e.$$)}for(_(null),H.length=0,D=0;I.length;)I.pop()();for(let e=0;e<P.length;e+=1){const t=P[e];O.has(t)||(O.add(t),t())}P.length=0}while(H.length);for(;q.length;)q.pop()();V=!1,O.clear(),_(e)}function j(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function X(){return B||(B=Promise.resolve(),B.then((()=>{B=null}))),B}function J(e,t,n){e.dispatchEvent(function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(`${t?"intro":"outro"}${n}`))}const Z=new Set;let K;function U(){K={r:0,c:[],p:K}}function G(){K.r||l(K.c),K=K.p}function Q(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function ee(e,t,n,o){if(e&&e.o){if(Z.has(e))return;Z.add(e),K.c.push((()=>{Z.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const te={duration:0};function ne(e,t,n){let o,r,a=t(e,n),c=!1,l=0;function d(){o&&F(e,o)}function m(){const{delay:t=0,duration:n=300,easing:u=s,tick:m=i,css:f}=a||te;f&&(o=A(e,0,1,n,t,u,f,l++)),m(0,1);const h=p()+t,g=h+n;r&&r.abort(),c=!0,Y((()=>J(e,!0,"start"))),r=v((t=>{if(c){if(t>=g)return m(1,0),J(e,!0,"end"),d(),c=!1;if(t>=h){const e=u((t-h)/n);m(e,1-e)}}return c}))}let f=!1;return{start(){f||(f=!0,F(e),u(a)?(a=a(),X().then(m)):m())},invalidate(){f=!1},end(){c&&(d(),c=!1)}}}function oe(e,t,n){let o,r=t(e,n),a=!0;const c=K;function d(){const{delay:t=0,duration:n=300,easing:u=s,tick:d=i,css:m}=r||te;m&&(o=A(e,1,0,n,t,u,m));const f=p()+t,h=f+n;Y((()=>J(e,!1,"start"))),v((t=>{if(a){if(t>=h)return d(0,1),J(e,!1,"end"),--c.r||l(c.c),!1;if(t>=f){const e=u((t-f)/n);d(1-e,e)}}return a}))}return c.r+=1,u(r)?X().then((()=>{r=r(),d()})):d(),{end(t){t&&r.tick&&r.tick(1,0),a&&(o&&F(e,o),a=!1)}}}function re(e){e&&e.c()}function ie(e,t,n,o){const{fragment:r,on_mount:i,on_destroy:s,after_update:a}=e.$$;r&&r.m(t,n),o||Y((()=>{const t=i.map(c).filter(u);s?s.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(Y)}function se(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t,n,o,r,s,a,c=[-1]){const u=T;_(e);const d=e.$$={fragment:null,ctx:null,props:s,update:i,not_equal:r,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:{},dirty:c,skip_bound:!1,root:t.target||u.$$.root};a&&a(d.root);let m=!1;d.ctx=n?n(e,t.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&r(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),m&&function(e,t){-1===e.$$.dirty[0]&&(H.push(e),V||(V=!0,N.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],d.update(),m=!0,l(d.before_update),d.fragment=!!o&&o(d.ctx),t.target&&(d.fragment&&d.fragment.c(),ie(e,t.target,t.anchor,t.customElement),W()),_(u)}class ce{$destroy(){se(this,1),this.$destroy=i}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function le(e){const t=e-1;return t*t*t+1}function ue(e,{delay:t=0,duration:n=400,easing:o=le,x:r=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(e),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-s);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*r}px, ${(1-e)*i}px);\n\t\t\topacity: ${c-u*t}`}}const de=[];function me(e,t=i){let n;const o=new Set;function r(t){if(d(e,t)&&(e=t,n)){const t=!de.length;for(const t of o)t[1](),de.push(t,e);if(t){for(let e=0;e<de.length;e+=2)de[e][0](de[e+1]);de.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,a=i){const c=[s,a];return o.add(c),1===o.size&&(n=t(r)||i),s(e),()=>{o.delete(c),0===o.size&&(n(),n=null)}}}}function fe(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(Array.isArray(e)){const n=t.map(((t,n)=>fe(e[n],t)));return e=>n.map((t=>t(e)))}if("number"===n){const n=t-e;return t=>e+t*n}}function pe(e,t={}){const n=me(e);let o,r=e;function i(i,c){if(null==e)return n.set(e=i),Promise.resolve();r=i;let l=o,u=!1,{delay:d=0,duration:m=400,easing:f=s,interpolate:h=fe}=a(a({},t),c);if(0===m)return l&&(l.abort(),l=null),n.set(e=r),Promise.resolve();const g=p()+d;let b;return o=v((t=>{if(t<g)return!0;u||(b=h(e,i),"function"==typeof m&&(m=m(e,i)),u=!0),l&&(l.abort(),l=null);const o=t-g;return o>m?(n.set(e=i),!1):(n.set(e=b(f(o/m))),!0)})),o.promise}return{set:i,update:(t,n)=>i(t(r,e),n),subscribe:n.subscribe}}const he=me(0),ge=globalThis.matchMedia?.("(prefers-reduced-motion: reduce)").matches,be=e=>({easing:le,duration:ge?0:e}),ve=e=>!e.thumb||`url(${e.thumb})`,we=(e,t)=>{if(t){"string"==typeof t&&(t=JSON.parse(t));for(const n in t)e.setAttribute(n,t[n])}};function $e(e){let t,n,o;return{c(){t=x("div"),t.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',L(t,"class","bp-load"),S(t,"background-image",ve(e[0]))},m(e,n){$(e,t,n),o=!0},p(e,n){1&n&&S(t,"background-image",ve(e[0]))},i(e){o||(n&&n.end(1),o=!0)},o(e){e&&(n=oe(t,ue,{duration:480})),o=!1},d(e){e&&y(t),e&&n&&n.end()}}}function ye(e){let t,n;return{c(){t=x("div"),L(t,"class","bp-load"),S(t,"background-image",ve(e[0]))},m(e,n){$(e,t,n)},p(e,n){1&n&&S(t,"background-image",ve(e[0]))},i(e){n||Y((()=>{n=ne(t,ue,{duration:480}),n.start()}))},o:i,d(e){e&&y(t)}}}function xe(e){let t,n,o=!e[1]&&$e(e),r=e[2]&&ye(e);return{c(){o&&o.c(),t=E(),r&&r.c(),n=E()},m(e,i){o&&o.m(e,i),$(e,t,i),r&&r.m(e,i),$(e,n,i)},p(e,[i]){e[1]?o&&(U(),ee(o,1,1,(()=>{o=null})),G()):o?(o.p(e,i),2&i&&Q(o,1)):(o=$e(e),o.c(),Q(o,1),o.m(t.parentNode,t)),e[2]?r?(r.p(e,i),4&i&&Q(r,1)):(r=ye(e),r.c(),Q(r,1),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i(e){Q(o),Q(r)},o(e){ee(o)},d(e){o&&o.d(e),e&&y(t),r&&r.d(e),e&&y(n)}}}function Ee(e,t,n){let o;m(e,he,(e=>n(2,o=e)));let{activeItem:r}=t,{loaded:i}=t;return e.$$set=e=>{"activeItem"in e&&n(0,r=e.activeItem),"loaded"in e&&n(1,i=e.loaded)},[r,i,o]}class ke extends ce{constructor(e){super(),ae(this,e,Ee,xe,d,{activeItem:0,loaded:1})}}function Le(e){let t,n,o,r,i,s;return{c(){t=x("img"),L(t,"sizes",n=e[8].sizes||`${e[1]}px`),L(t,"alt",e[7].alt)},m(n,o){$(n,t,o),r=!0,i||(s=[f(e[21].call(null,t)),k(t,"error",e[27])],i=!0)},p(e,o){(!r||2&o[0]&&n!==(n=e[8].sizes||`${e[1]}px`))&&L(t,"sizes",n)},i(e){r||(o&&o.end(1),r=!0)},o(e){o=oe(t,ue,{}),r=!1},d(e){e&&y(t),e&&o&&o.end(),i=!1,l(s)}}}function Se(e){let t,n;return t=new ke({props:{activeItem:e[7],loaded:e[2]}}),{c(){re(t.$$.fragment)},m(e,o){ie(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.loaded=e[2]),t.$set(o)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){se(t,e)}}}function Re(e){let t,n,o,r,i,s,a=`translate3d(${e[0][0]/-2+e[6][0]}px, ${e[0][1]/-2+e[6][1]}px, 0)`,c=e[2]&&Le(e),u=e[3]&&Se(e);return{c(){t=x("div"),n=x("div"),c&&c.c(),o=E(),u&&u.c(),L(n,"class","bp-img"),S(n,"width",e[0][0]+"px"),S(n,"height",e[0][1]+"px"),R(n,"bp-drag",e[4]),R(n,"bp-canzoom",e[11]>1&&e[0][0]<e[12]),S(n,"background-image",ve(e[7])),S(n,"transform",a),L(t,"class","bp-img-wrap"),R(t,"bp-close",e[5])},m(a,l){$(a,t,l),w(t,n),c&&c.m(n,null),w(n,o),u&&u.m(n,null),r=!0,i||(s=[f(e[20].call(null,n)),k(t,"wheel",e[15]),k(t,"pointerdown",e[16]),k(t,"pointermove",e[17]),k(t,"pointerup",e[19]),k(t,"pointercancel",e[18])],i=!0)},p(e,i){e[2]?c?(c.p(e,i),4&i[0]&&Q(c,1)):(c=Le(e),c.c(),Q(c,1),c.m(n,o)):c&&(U(),ee(c,1,1,(()=>{c=null})),G()),e[3]?u?(u.p(e,i),8&i[0]&&Q(u,1)):(u=Se(e),u.c(),Q(u,1),u.m(n,null)):u&&(U(),ee(u,1,1,(()=>{u=null})),G()),(!r||1&i[0])&&S(n,"width",e[0][0]+"px"),(!r||1&i[0])&&S(n,"height",e[0][1]+"px"),(!r||16&i[0])&&R(n,"bp-drag",e[4]),(!r||6145&i[0])&&R(n,"bp-canzoom",e[11]>1&&e[0][0]<e[12]),65&i[0]&&a!==(a=`translate3d(${e[0][0]/-2+e[6][0]}px, ${e[0][1]/-2+e[6][1]}px, 0)`)&&S(n,"transform",a),(!r||32&i[0])&&R(t,"bp-close",e[5])},i(e){r||(Q(c),Q(u),r=!0)},o(e){ee(c),ee(u),r=!1},d(e){e&&y(t),c&&c.d(),u&&u.d(),i=!1,l(s)}}}function Me(e,t,n){let o,r,i,s;m(e,he,(e=>n(26,i=e)));let{props:a}=t,{smallScreen:c}=t,{activeItem:l,opts:u,prev:d,next:f,zoomed:p,container:h}=a;m(e,p,(e=>n(25,o=e)));let g,b,v,w,$,y,x,E,k,L,S,R=l.maxZoom||u.maxZoom||10,M=a.calculateDimensions(l),T=M[0],C=0;const z=+l.width,A=[],F=new Map,_=pe(M,be(400));m(e,_,(e=>n(0,s=e)));const H=pe([0,0],be(400));m(e,H,(e=>n(6,r=e)));const I=([e,t],o=s)=>{const r=(o[0]-h.w)/2,i=(o[1]-h.h)/2;return r<0?e=0:e>r?c?(e=$?r+(e-r)/10:r)>r+20&&n(4,$=d()):e=r:e<-r&&(c?(e=$?-r-(-r-e)/10:-r)<-r-20&&n(4,$=f()):e=-r),i<0?t=0:t>i?t=i:t<-i&&(t=-i),[e,t]};function P(e=R,t){if(i)return;const o=M[0]*R;let a=s[0]+s[0]*e,c=s[1]+s[1]*e;if(e>0)a>o&&(a=o,c=M[1]*R),a>z&&(a=z,c=+l.height);else if(a<M[0])return _.set(M),H.set([0,0]);let{x:u,y:d,width:m,height:f}=w.getBoundingClientRect();const p=t?t.clientX-u-m/2:0,h=t?t.clientY-d-f/2:0;u=a/m*-p+p,d=c/f*-h+h;const g=[a,c];_.set(g).then((()=>{n(1,T=Math.round(Math.max(T,a)))})),H.set(I([r[0]+u,r[1]+d],g))}Object.defineProperty(l,"zoom",{configurable:!0,get:()=>o,set:e=>P(e?R:-R)});const q=e=>F.delete(e.pointerId);return e.$$set=e=>{"smallScreen"in e&&n(23,c=e.smallScreen)},e.$$.update=()=>{if(16777217&e.$$.dirty[0]&&p.set(s[0]-10>M[0]),117440512&e.$$.dirty[0]&&i&&o&&!u.intro){const e=be(480);H.set([0,0],e),_.set(M,e),n(5,S=!0)}},[s,T,g,b,$,S,r,l,u,p,h,R,z,_,H,e=>{u.inline&&!o||(e.preventDefault(),P(e.deltaY/-300,e))},e=>{2!==e.button&&(e.preventDefault(),n(4,$=!0),F.set(e.pointerId,e),x=e.clientX,E=e.clientY,k=r[0],L=r[1])},e=>{if(F.size>1)return n(4,$=!1),u.noPinch?.(h.el)||(e=>{const[t,n]=F.set(e.pointerId,e).values(),o=t.clientX-n.clientX,r=t.clientY-n.clientY,i=Math.hypot(o,r);v=v||{clientX:(t.clientX+n.clientX)/2,clientY:(t.clientY+n.clientY)/2},P(((C||i)-i)/-35,v),C=i})(e);if(!$)return;let t=e.clientX,r=e.clientY;y=A.push({x:t,y:r})>2,t-=x,r-=E,o||(r<-90&&n(4,$=!u.noClose&&a.close()),Math.abs(r)<30&&(t>40&&n(4,$=d()),t<-40&&n(4,$=f()))),o&&y&&!i&&H.set(I([k+t,L+r]),{duration:0})},q,function(e){if(q(e),v&&(n(4,$=C=0),v=F.size?v:null),$){if(n(4,$=!1),e.target===this&&!u.noClose)return a.close();if(y){const[e,t,n]=A.slice(-3),o=t.x-n.x,i=t.y-n.y;Math.hypot(o,i)>5&&H.set(I([r[0]-5*(e.x-n.x),r[1]-5*(e.y-n.y)]))}else u.onImageClick?.(h.el,l)||P(o?-R:R,e);y=!1,A.length=0}},e=>{w=e,a.setResizeFunc((()=>{n(24,M=a.calculateDimensions(l)),!u.inline&&c||(_.set(M),H.set([0,0]))})),a.loadImage(l).then((()=>{n(2,g=!0),a.preloadNext()})),setTimeout((()=>{n(3,b=!g)}),250)},e=>{we(e,l.attr),e.srcset=l.img},a,c,M,o,i,e=>u.onError?.(h,l,e)]}class Te extends ce{constructor(e){super(),ae(this,e,Me,Re,d,{props:22,smallScreen:23},null,[-1,-1])}}function Ce(e){let t,n,o,r,i,s;return o=new ke({props:{activeItem:e[2],loaded:e[0]}}),{c(){t=x("div"),n=x("iframe"),re(o.$$.fragment),L(n,"allow","autoplay; fullscreen"),L(n,"title",e[2].title),L(t,"class","bp-if"),S(t,"width",e[1][0]+"px"),S(t,"height",e[1][1]+"px")},m(a,c){$(a,t,c),w(t,n),ie(o,t,null),r=!0,i||(s=[f(e[3].call(null,n)),k(n,"load",e[5])],i=!0)},p(e,[n]){const i={};1&n&&(i.loaded=e[0]),o.$set(i),(!r||2&n)&&S(t,"width",e[1][0]+"px"),(!r||2&n)&&S(t,"height",e[1][1]+"px")},i(e){r||(Q(o.$$.fragment,e),r=!0)},o(e){ee(o.$$.fragment,e),r=!1},d(e){e&&y(t),se(o),i=!1,l(s)}}}function ze(e,t,n){let o,r,{props:i}=t;const{activeItem:s}=i,a=()=>n(1,r=i.calculateDimensions(s));return a(),i.setResizeFunc(a),[o,r,s,e=>{we(e,s.attr),e.src=s.iframe},i,()=>n(0,o=!0)]}class Ae extends ce{constructor(e){super(),ae(this,e,ze,Ce,d,{props:4})}}function Fe(e){let t,n,o,r,i;return n=new ke({props:{activeItem:e[2],loaded:e[0]}}),{c(){t=x("div"),re(n.$$.fragment),L(t,"class","bp-vid"),S(t,"width",e[1][0]+"px"),S(t,"height",e[1][1]+"px"),S(t,"background-image",ve(e[2]))},m(s,a){$(s,t,a),ie(n,t,null),o=!0,r||(i=f(e[3].call(null,t)),r=!0)},p(e,[r]){const i={};1&r&&(i.loaded=e[0]),n.$set(i),(!o||2&r)&&S(t,"width",e[1][0]+"px"),(!o||2&r)&&S(t,"height",e[1][1]+"px")},i(e){o||(Q(n.$$.fragment,e),o=!0)},o(e){ee(n.$$.fragment,e),o=!1},d(e){e&&y(t),se(n),r=!1,i()}}}function _e(e,t,n){let o,r,{props:i}=t;const{activeItem:s,opts:a,container:c}=i,l=()=>n(1,r=i.calculateDimensions(s));return l(),i.setResizeFunc(l),[o,r,s,e=>{let t;const r=(e,n)=>{Array.isArray(n)||(n=JSON.parse(n));for(const o of n){t||(t=document.createElement(o.type?.includes("audio")?"audio":"video"),we(t,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}),we(t,s.attr));const n=document.createElement(e);we(n,o),"source"==e&&(n.onError=e=>a.onError?.(c,s,e)),t.append(n)}};r("source",s.sources),r("track",s.tracks||[]),t.oncanplay=()=>n(0,o=!0),e.append(t)},i]}class He extends ce{constructor(e){super(),ae(this,e,_e,Fe,d,{props:4})}}function Ie(e){let t,n,o,r,s,a,c,u,m,p=e[6].i,h=Oe(e),g=e[0].length>1&&Be(e);return{c(){t=x("div"),n=x("div"),h.c(),r=x("div"),s=x("button"),g&&g.c(),L(s,"class","bp-x"),L(s,"title","Close"),L(s,"aria-label","Close"),L(r,"class","bp-controls"),L(t,"class","bp-wrap"),R(t,"bp-zoomed",e[10]),R(t,"bp-inline",e[8]),R(t,"bp-small",e[7]),R(t,"bp-noclose",e[5].noClose)},m(o,i){$(o,t,i),w(t,n),h.m(t,null),w(t,r),w(r,s),g&&g.m(r,null),c=!0,u||(m=[k(s,"click",e[1]),f(e[14].call(null,t))],u=!0)},p(e,n){64&n[0]&&d(p,p=e[6].i)?(U(),ee(h,1,1,i),G(),h=Oe(e),h.c(),Q(h,1),h.m(t,r)):h.p(e,n),e[0].length>1?g?g.p(e,n):(g=Be(e),g.c(),g.m(r,null)):g&&(g.d(1),g=null),(!c||1024&n[0])&&R(t,"bp-zoomed",e[10]),(!c||256&n[0])&&R(t,"bp-inline",e[8]),(!c||128&n[0])&&R(t,"bp-small",e[7]),(!c||32&n[0])&&R(t,"bp-noclose",e[5].noClose)},i(e){c||(o&&o.end(1),Q(h),a&&a.end(1),c=!0)},o(e){e&&(o=oe(n,ue,{duration:480})),ee(h),e&&(a=oe(r,ue,{})),c=!1},d(e){e&&y(t),e&&o&&o.end(),h.d(e),g&&g.d(),e&&a&&a.end(),u=!1,l(m)}}}function Pe(e){let t,n=(e[6].html??e[6].element.outerHTML)+"";return{c(){t=x("div"),L(t,"class","bp-html")},m(e,o){$(e,t,o),t.innerHTML=n},p(e,o){64&o[0]&&n!==(n=(e[6].html??e[6].element.outerHTML)+"")&&(t.innerHTML=n)},i,o:i,d(e){e&&y(t)}}}function qe(e){let t,n;return t=new Ae({props:{props:e[13]()}}),{c(){re(t.$$.fragment)},m(e,o){ie(t,e,o),n=!0},p:i,i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){se(t,e)}}}function Ne(e){let t,n;return t=new He({props:{props:e[13]()}}),{c(){re(t.$$.fragment)},m(e,o){ie(t,e,o),n=!0},p:i,i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){se(t,e)}}}function Ve(e){let t,n;return t=new Te({props:{props:e[13](),smallScreen:e[7]}}),{c(){re(t.$$.fragment)},m(e,o){ie(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.smallScreen=e[7]),t.$set(o)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){ee(t.$$.fragment,e),n=!1},d(e){se(t,e)}}}function Ye(e){let t,n,o,r=e[6].caption+"";return{c(){t=x("div"),L(t,"class","bp-cap")},m(e,n){$(e,t,n),t.innerHTML=r,o=!0},p(e,n){(!o||64&n[0])&&r!==(r=e[6].caption+"")&&(t.innerHTML=r)},i(e){o||(n&&n.end(1),o=!0)},o(e){n=oe(t,ue,{duration:200}),o=!1},d(e){e&&y(t),e&&n&&n.end()}}}function Oe(e){let t,n,o,r,i,s,a,c,u;const d=[Ve,Ne,qe,Pe],m=[];function f(e,t){return e[6].img?0:e[6].sources?1:e[6].iframe?2:3}n=f(e),o=m[n]=d[n](e);let p=e[6].caption&&Ye(e);return{c(){t=x("div"),o.c(),p&&p.c(),s=E(),L(t,"class","bp-inner")},m(o,r){$(o,t,r),m[n].m(t,null),p&&p.m(o,r),$(o,s,r),a=!0,c||(u=[k(t,"pointerdown",e[20]),k(t,"pointerup",e[21])],c=!0)},p(e,r){let i=n;n=f(e),n===i?m[n].p(e,r):(U(),ee(m[i],1,1,(()=>{m[i]=null})),G(),o=m[n],o?o.p(e,r):(o=m[n]=d[n](e),o.c()),Q(o,1),o.m(t,null)),e[6].caption?p?(p.p(e,r),64&r[0]&&Q(p,1)):(p=Ye(e),p.c(),Q(p,1),p.m(s.parentNode,s)):p&&(U(),ee(p,1,1,(()=>{p=null})),G())},i(n){a||(Q(o),Y((()=>{i&&i.end(1),r=ne(t,e[12],!0),r.start()})),Q(p),a=!0)},o(n){ee(o),r&&r.invalidate(),i=oe(t,e[12],!1),ee(p),a=!1},d(e){e&&y(t),m[n].d(),e&&i&&i.end(),p&&p.d(e),e&&y(s),c=!1,l(u)}}}function Be(e){let t,n,o,r,i,s=`${e[4]+1} / ${e[0].length}`;return{c(){t=x("div"),n=x("button"),o=x("button"),L(t,"class","bp-count"),L(n,"class","bp-prev"),L(n,"title","Previous"),L(n,"aria-label","Previous"),L(o,"class","bp-next"),L(o,"title","Next"),L(o,"aria-label","Next")},m(a,c){$(a,t,c),t.innerHTML=s,$(a,n,c),$(a,o,c),r||(i=[k(n,"click",e[2]),k(o,"click",e[3])],r=!0)},p(e,n){17&n[0]&&s!==(s=`${e[4]+1} / ${e[0].length}`)&&(t.innerHTML=s)},d(e){e&&y(t),e&&y(n),e&&y(o),r=!1,l(i)}}}function De(e){let t,n,o=e[0]&&Ie(e);return{c(){o&&o.c(),t=E()},m(e,r){o&&o.m(e,r),$(e,t,r),n=!0},p(e,n){e[0]?o?(o.p(e,n),1&n[0]&&Q(o,1)):(o=Ie(e),o.c(),Q(o,1),o.m(t.parentNode,t)):o&&(U(),ee(o,1,1,(()=>{o=null})),G())},i(e){n||(Q(o),n=!0)},o(e){ee(o),n=!1},d(e){o&&o.d(e),e&&y(t)}}}function We(e,t,n){let o,{items:r}=t,{target:i}=t;const s=document.documentElement;let a,c,l,u,d,f,p,h,g;const b=()=>!g.img&&!g.sources&&!g.iframe;let v;const w=e=>v=e,$={},y=me(0);m(e,y,(e=>n(10,o=e)));const x=()=>{c.onClose?.($.el,g),he.set(!0),n(0,r=null),u?.focus({preventScroll:!0})},E=()=>L(a-1),k=()=>L(a+1),L=e=>{p=e-a,n(4,a=S(e))},S=e=>(e+r.length)%r.length,R=e=>{const{key:t,shiftKey:n}=e;if("Escape"===t)!c.noClose&&x();else if("ArrowRight"===t)k();else if("ArrowLeft"===t)E();else if("Tab"===t){const{activeElement:t}=document;if(n||!t.controls){e.preventDefault();const{focusWrap:o=$.el}=c,r=[...o.querySelectorAll("*")].filter((e=>e.tabIndex>=0));let i=r.indexOf(t);i+=r.length+(n?-1:1),r[i%r.length].focus()}}},M=({width:e=1920,height:t=1080})=>{const{scale:n=.99}=c,o=Math.min(1,$.w/e*n,$.h/t*n);return[Math.round(e*o),Math.round(t*o)]},T=()=>{if(r){const e=r[S(a+1)],t=r[S(a-1)];!e.preload&&C(e),!t.preload&&C(t)}},C=e=>{if(e.img){const t=document.createElement("img");return t.sizes=c.sizes||`${M(e)[0]}px`,t.srcset=e.img,e.preload=!0,t.decode().catch((e=>{}))}};return e.$$set=e=>{"items"in e&&n(0,r=e.items),"target"in e&&n(15,i=e.target)},e.$$.update=()=>{786545&e.$$.dirty[0]&&r&&(n(6,g=r[a]),l&&c.onUpdate?.($.el,g))},[r,x,E,k,a,c,g,d,f,h,o,y,(e,t)=>l&&r?ue(e,{x:(p>0?20:-20)*(t?1:-1),duration:250}):(n(18,l=t),c.intro?ue(e,{y:t?10:-10}):(e=>{let t;if(b()){const n=e.firstChild.firstChild;t=[n.clientWidth,n.clientHeight]}else t=M(g);const n=(g.element||u).getBoundingClientRect(),o=n.left-($.w-n.width)/2,r=n.top-($.h-n.height)/2,i=n.width/t[0],s=n.height/t[1];return{duration:480,easing:le,css:(e,t)=>`transform:translate3d(${o*t}px, ${r*t}px, 0) scale3d(${i+e*(1-i)}, ${s+e*(1-s)}, 1)`}})(e)),()=>({activeItem:g,calculateDimensions:M,loadImage:C,preloadNext:T,opts:c,prev:E,next:k,close:x,setResizeFunc:w,zoomed:y,container:$}),e=>{let t;n(19,$.el=e,$),c.onOpen?.($.el,g),f||globalThis.addEventListener("keydown",R);const o=new ResizeObserver((e=>{t&&(n(19,$.w=e[0].contentRect.width,$),n(19,$.h=e[0].contentRect.height,$),n(7,d=$.w<769),b()||v?.(),c.onResize?.($.el,g)),t=!0}));return o.observe(e),{destroy(){o.disconnect(),globalThis.removeEventListener("keydown",R),he.set(!1),s.classList.remove("bp-lock"),c.onClosed?.()}}},i,e=>{n(5,c=e),n(8,f=c.inline),!f&&s.scrollHeight>s.clientHeight&&s.classList.add("bp-lock"),u=document.activeElement,n(19,$.w=i.offsetWidth,$),n(19,$.h=i===document.body?globalThis.innerHeight:i.clientHeight,$),n(7,d=$.w<769),n(4,a=c.position||0),n(0,r=[]);for(let e=0;e<(c.items.length||1);e++){let t=c.items[e]||c.items;"dataset"in t?r.push({element:t,i:e,...t.dataset}):(t.i=e,r.push(t),t=t.element),c.el&&c.el===t&&n(4,a=e)}},L,l,$,e=>n(9,h=e.target),function(e){2!==e.button&&e.target===this&&h===this&&!c.noClose&&x()}]}const je=document,Xe=je.body,Je=je.getElementById.bind(je),Ze=je.querySelector.bind(je),Ke=je.querySelectorAll.bind(je);let Ue;window.ARVEvimeo={},window.ARVEyoutube={};const Ge=(Qe={target:Xe},new class extends ce{constructor(e){super(),ae(this,e,We,De,d,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}get target(){return this.$$.ctx[15]}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}({...Qe,props:Qe}));var Qe;function et(e){return e.dataset.arve?Je(e.dataset.arve):null}function tt(e){ct(e);const t=et(e);t&&t.classList.add("arve--playing")}function nt(e){const t=et(e);t&&t.classList.remove("arve--playing")}function ot(e){const t=et(e);if(t){if(t.classList.remove("arve--playing","arve--clicked","arve--sticky"),void 0===t.dataset.mode||void 0===e.dataset.arve)throw"Mode data attr needs to be set";if(["lazyload","lightbox"].includes(t.dataset.mode)&&(delete window.ARVEyoutube[t.id],delete window.ARVEvimeo[t.id]),"resetAfterPlayed"in t.dataset)switch(t.dataset.mode){case"lazyload":t.dataset.maxWidth&&(t.style.maxWidth=t.dataset.maxWidth),t.dataset.alignClass&&t.classList.add(t.dataset.alignClass),e.matches("iframe[data-arve]")&&e.remove();break;case"link-lightbox":case"lightbox":Ge.close()}}}function rt(e){delete window.ARVEyoutube[e.id],delete window.ARVEvimeo[e.id],"enabled-exit"===e.dataset.fullscreen&&r.isEnabled&&r.exit(),window.history.pushState("",document.title,window.location.pathname+window.location.search),Xe.classList.remove("arve-overflow-hidden"),e.classList.remove("arve--playing","arve--clicked")}if(function(){if(!window.location.hash)return;const e=window.location.hash.replace(/[\s#]+/gi,""),t=Je(e),n=Ze('[data-target="#'+e+'"]');t&&t.matches('.arve[data-mode="lightbox"]')&&n&&at(t,n)}(),je.addEventListener("play",(e=>{e.target instanceof HTMLMediaElement&&e.target&&e.target.matches("video, audio")&&tt(e.target)}),!0),je.addEventListener("pause",(e=>{e.target instanceof HTMLMediaElement&&e.target&&e.target.matches("video, audio")&&nt(e.target)}),!0),je.addEventListener("ended",(e=>{e.target instanceof HTMLMediaElement&&e.target&&e.target.matches("video, audio")&&ot(e.target)}),!0),je.addEventListener("click",(e=>{if(!(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLButtonElement))return;const t=e.target.dataset.target;if(!t)return;const n=Ze(t);if(!(n&&n.matches(".arve")&&n instanceof HTMLElement))return;const o=n.querySelector(".arve-consent")?.dataset.domain;switch(o&&(je.cookie="arve-consent-"+o+"=1; SameSite=strict; max-age=31536000; path=/",Ke('.arve-consent[data-domain="'+o+'"]').forEach((e=>{e.remove()}))),n.dataset.mode){case"lazyload":!function(e){"grow"in e.dataset&&(e.classList.forEach((t=>{null!==/align[a-z]+/.exec(t)&&(e.dataset.alignClass=t,e.classList.remove(t))})),e.dataset.maxWidth=e.style.maxWidth,e.style.maxWidth="none");const t=e.querySelector("video");if(t)t.classList.contains("video-js")&&window.videojs(t),ct(t),t.play();else{const t=function(e){const t=e.querySelector(".arve-noscript");if(!t)throw Error("There needs to be a noscript element");return function(e,t){const n=document.createElement("div");n.innerHTML=t.textContent||t.innerHTML;const o=n.querySelector("iframe");if(null===o)throw Error("Selector did not match");return o}(0,t)}(e),n=e.querySelector(".arve-embed");if(!n)throw Error("There needs to be a .arve-embed div");n.appendChild(t),ct(t),it(e,t)}Ke(".arve--clicked").forEach((e=>{e.classList.remove("arve--clicked")})),e.classList.add("arve--clicked")}(n);break;case"lightbox":case"link-lightbox":e.preventDefault(),at(n,e.target)}}),!1),Ze('[data-provider="vimeo"]')){const e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.src="https://cdn.jsdelivr.net/npm/@vimeo/player@latest/dist/player.min.js",t.parentNode?.insertBefore(e,t)}function it(e,t){switch(e.dataset.provider){case"youtube":if(void 0===window.YT){Ue=t;const e=document.createElement("script"),n=document.getElementsByTagName("script")[0];e.src="https://www.youtube.com/iframe_api",n&&n.parentNode&&n?.parentNode.insertBefore(e,n)}else st(t);break;case"vimeo":window.ARVEvimeo[e.id]=new window.Vimeo.Player(t),window.ARVEvimeo[e.id].on("play",(()=>{tt(t)})),window.ARVEvimeo[e.id].on("ended",(()=>{ot(t)})),window.ARVEvimeo[e.id].play()}}function st(e){e?.dataset.arve&&(window.ARVEyoutube[e.dataset.arve]=new window.YT.Player(e,{events:{onReady:window.arveYouTubeReady,onStateChange:window.arveYouTubeStateChange}}))}function at(e,t){Xe.classList.add("arve-overflow-hidden"),"disabled"!==e.dataset.fullscreen&&r.isEnabled&&r.request(),e.querySelector("video")?Ge.open({el:t,items:t,onClose:()=>{rt(e)}}):Ge.open({el:t,items:t,onOpen:t=>{const n=t.querySelector("iframe");n&&it(e,n)},onClose:()=>{rt(e)}}),window.history.pushState("",document.title,window.location.pathname+window.location.search+"#"+e.id)}function ct(e){Ke("video, audio").forEach((t=>{const n=t;if(n!==e){n.pause();const e=et(n);e&&e.classList.remove("arve--playing")}})),Ke("iframe[data-arve]").forEach((t=>{if(t instanceof HTMLIFrameElement&&t!==e){const e=t.dataset.arve;if(!e)throw"iframe must have data-arve set";e in window.ARVEyoutube?window.ARVEyoutube[e].pauseVideo():e in window.ARVEvimeo?window.ARVEvimeo[e].pause():t.dataset.srcNoAp&&(t.src=t.dataset.srcNoAp);const n=et(t);n&&n.classList.remove("arve--playing")}}))}window.arveYouTubeStateChange=function(e){const t=e.target.getIframe();switch(e.data){case 0:ot(t);break;case 1:tt(t);break;case 2:nt(t)}},window.onYouTubeIframeAPIReady=function(){st(Ue)},window.arveYouTubeReady=function(e){e.target.playVideo()}})();